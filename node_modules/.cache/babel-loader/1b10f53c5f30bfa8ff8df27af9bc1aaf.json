{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Vignes\\\\react-city-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Vignes\\\\react-city-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Vignes\\\\react-city-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Vignes\\\\react-city-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Vignes\\\\react-city-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Vignes\\\\react-city-app\\\\src\\\\lazyContainer.js\";\nimport React, { Component, lazy, Suspense } from 'react'; // import React, {Component} from \"react\";\n\nimport logo from \"./logo.svg\"; //Data\n\nimport PhotoData from \"./testData\"; //Lasy\n\nvar LazyPhotoComponet = lazy(function () {\n  return import(\"./lazyComponet\");\n});\nvar LasyAlbumComponet = lazy(function () {\n  return import(\"./lazyComponet\");\n}); // import LazyPhotoComponet from \"./lazyComponet\";\n\nvar lazyContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(lazyContainer, _Component);\n\n  function lazyContainer() {\n    var _this;\n\n    _classCallCheck(this, lazyContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(lazyContainer).call(this));\n\n    _this.handleClick = function (event) {\n      /*No bind needed */\n      console.log(\"e \" + event.target.id);\n      var id = event.target.id;\n\n      if (id === \"photo_\") {\n        _this.setState({\n          photoIndx: -1\n        });\n      } else {\n        _this.setState({\n          photoIndx: id\n        });\n      } // this.setState({\n      //     albumIndex: event.target.id\n      //     //prevState => {\n      //     //return {\n      //     //    albumIndex: !prevState.albumIndex\n      //     //}\n      // })\n      // const {name, value, type, checked} = event.target;\n      // type === \"checkbox\" ? this.setState({ [name] : checked }) : this.setState({ [name] : value })\n      // if(type === \"checkbox\") this.setState({ [name] : checked })\n      // else if(type === \"textarea\") this.setState({ [value] : value })\n      //     else this.setState({ [name] : value })\n\n    };\n\n    _this.state = {\n      albumDB: {},\n      photoDB: {},\n      isConected: false,\n      albumIndex: 0,\n      photoIndx: -1,\n      isMore: true\n    };\n    return _this;\n  }\n\n  _createClass(lazyContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // fetch('https://jsonplaceholder.typicode.com/photos/1')\n      fetch('https://jsonplaceholder.typicode.com/photos?_page=1&_limt=10').then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this2.setState({\n          photoDB: data,\n          isConected: true,\n          albumIndex: 1\n        });\n\n        console.log(data);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var photoData = this.state.photoDB;\n      console.log(\"pDATA \" + photoData[0]);\n      var myJSON = JSON.stringify(photoData[0]);\n      console.log(\"pDATA \" + myJSON);\n      console.log(\" \");\n      console.log(\"PDATA \" + PhotoData);\n      myJSON = JSON.stringify(PhotoData);\n      console.log(\"pDATA \" + myJSON);\n      var count = Object.keys(PhotoData).length;\n      console.log(count);\n      var x = 0,\n          num = 0;\n      var db = {};\n\n      for (var i = 0; i < count; i++) {\n        console.log(\"== \" + PhotoData[i].albumId + \" \" + PhotoData[i].id);\n\n        if (PhotoData[i].albumId !== num) {\n          num = PhotoData[i].albumId;\n          db[x] = {\n            \"num\": num,\n            \"startID\": PhotoData[i].id,\n            \"thumbnail\": PhotoData[i].thumbnailUrl\n          };\n          console.log(\"+= \" + num + \" - \" + x);\n          x++;\n          console.log(db);\n        }\n      }\n\n      var clickedUrl = this.state.photoIndx === -1 ? null : PhotoData[this.state.photoIndx - 1].url; // const clickedTitle = this.state.photoIndx === -1? null : PhotoData[this.state.photoIndx - 1].title;\n\n      var imageStyle = {\n        backgroundColor: \"#fff\",\n        backgroundImage: 'url(' + clickedUrl + ')' //Album componets\n\n      };\n      var albumComponets = PhotoData.map(function (item) {\n        return React.createElement(LasyAlbumComponet, {\n          key: item.id,\n          data: item,\n          albumIndex: _this3.state.albumIndex,\n          handleClick: _this3.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        });\n      }); //Photo Componets\n\n      var photoComponets = PhotoData.map(function (item) {\n        return React.createElement(LazyPhotoComponet, {\n          key: item.id,\n          data: item,\n          photoIndx: _this3.state.photoIndx,\n          albumIndex: _this3.state.albumIndex,\n          handleClick: _this3.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Suspense, {\n        fallback: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, \"Loading ....\", React.createElement(\"img\", {\n          src: logo,\n          className: \"App-logo\",\n          alt: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, albumComponets, photoComponets, React.createElement(\"div\", {\n        className: this.state.photoIndx === -1 ? \"hide\" : null,\n        onClick: this.handleClick,\n        id: \"photo_\",\n        style: imageStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return lazyContainer;\n}(Component);\n\nexport default lazyContainer;","map":{"version":3,"sources":["C:\\Users\\Vignes\\react-city-app\\src\\lazyContainer.js"],"names":["React","Component","lazy","Suspense","PhotoData","LazyPhotoComponet","LasyAlbumComponet","lazyContainer","handleClick","event","console","log","target","id","setState","photoIndx","state","albumDB","photoDB","isConected","albumIndex","isMore","fetch","then","response","json","data","photoData","myJSON","JSON","stringify","count","Object","keys","length","x","num","db","i","albumId","thumbnailUrl","clickedUrl","url","imageStyle","backgroundColor","backgroundImage","albumComponets","map","item","photoComponets","logo"],"mappings":"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","sourcesContent":["import React, { Component, lazy, Suspense } from 'react';\r\n// import React, {Component} from \"react\";\r\nimport logo from './logo.svg';\r\n\r\n//Data\r\nimport PhotoData from \"./testData\";\r\n\r\n//Lasy\r\nconst LazyPhotoComponet = lazy(() => import(\"./lazyComponet\"));\r\nconst LasyAlbumComponet = lazy(() => import(\"./lazyComponet\"));\r\n\r\n// import LazyPhotoComponet from \"./lazyComponet\";\r\n\r\n\r\n\r\nclass lazyContainer extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            albumDB: {},\r\n            photoDB: {},\r\n            isConected: false,\r\n            albumIndex: 0,\r\n            photoIndx: -1,\r\n            isMore: true\r\n        };\r\n    };\r\n\r\n    componentDidMount(){\r\n        // fetch('https://jsonplaceholder.typicode.com/photos/1')\r\n        fetch('https://jsonplaceholder.typicode.com/photos?_page=1&_limt=10')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({\r\n            photoDB: data,\r\n            isConected: true,\r\n            albumIndex: 1\r\n            });\r\n            console.log(data);\r\n        });\r\n    };\r\n\r\n    handleClick = (event) => {/*No bind needed */\r\n        console.log(\"e \" + event.target.id);\r\n        let id = event.target.id;\r\n        if(id === \"photo_\"){\r\n            this.setState({\r\n                photoIndx: -1\r\n            })\r\n        } else {\r\n            this.setState({\r\n                photoIndx: id\r\n            })\r\n        }\r\n        // this.setState({\r\n        //     albumIndex: event.target.id\r\n        //     //prevState => {\r\n        //     //return {\r\n        //     //    albumIndex: !prevState.albumIndex\r\n        //     //}\r\n        // })\r\n        // const {name, value, type, checked} = event.target;\r\n        // type === \"checkbox\" ? this.setState({ [name] : checked }) : this.setState({ [name] : value })\r\n        // if(type === \"checkbox\") this.setState({ [name] : checked })\r\n        // else if(type === \"textarea\") this.setState({ [value] : value })\r\n        //     else this.setState({ [name] : value })\r\n\r\n    }\r\n\r\n    render() {\r\n        const photoData = this.state.photoDB;\r\n        console.log(\"pDATA \" + photoData[0])\r\n        var myJSON = JSON.stringify(photoData[0]);\r\n        console.log(\"pDATA \" + myJSON)\r\n        console.log(\" \")\r\n        console.log(\"PDATA \" + PhotoData)\r\n        myJSON = JSON.stringify(PhotoData);\r\n        console.log(\"pDATA \" + myJSON)\r\n        var count = Object.keys(PhotoData).length;\r\n        console.log(count);\r\n\r\n        let x = 0, num = 0;\r\n        \r\n        let db={};\r\n\r\n        for(let i=0; i<count; i++){\r\n            console.log(\"== \" + PhotoData[i].albumId + \" \" + PhotoData[i].id)\r\n            if(PhotoData[i].albumId !== num){\r\n                num = PhotoData[i].albumId;\r\n                db[x] = {\"num\": num, \"startID\": PhotoData[i].id, \"thumbnail\": PhotoData[i].thumbnailUrl};\r\n                console.log(\"+= \" + num + \" - \" + x)\r\n                x++;\r\n                console.log(db);\r\n            }\r\n        }\r\n\r\n        const clickedUrl = this.state.photoIndx === -1? null : PhotoData[this.state.photoIndx - 1].url;\r\n        // const clickedTitle = this.state.photoIndx === -1? null : PhotoData[this.state.photoIndx - 1].title;\r\n\r\n        const imageStyle={\r\n            backgroundColor: \"#fff\",\r\n            backgroundImage: 'url('+ clickedUrl +')'\r\n        }\r\n        //Album componets\r\n        const albumComponets = PhotoData.map(\r\n            item => \r\n            <LasyAlbumComponet key={item.id} data={item}\r\n            albumIndex={this.state.albumIndex}\r\n            handleClick={this.handleClick}\r\n            />\r\n            )\r\n\r\n        //Photo Componets\r\n        const photoComponets = PhotoData.map(\r\n            item => \r\n            <LazyPhotoComponet key={item.id} data={item}\r\n            photoIndx={this.state.photoIndx}\r\n            albumIndex={this.state.albumIndex}\r\n            handleClick={this.handleClick}\r\n            />\r\n            )\r\n      return (\r\n        <div>\r\n            <Suspense fallback={<div>Loading ....<img src={logo} className=\"App-logo\" alt=\"logo\" /></div>}>\r\n            {albumComponets}\r\n            {photoComponets}\r\n\r\n            <div className={this.state.photoIndx === -1 ? \"hide\" : null} onClick={this.handleClick} id={\"photo_\"}\r\n            style={imageStyle}\r\n            >\r\n            </div>\r\n\r\n            </Suspense>\r\n            {/* {this.state.photoDB.id} */}\r\n          {/* <Suspense fallback={<div>Loading ....<img src={logo} className=\"App-logo\" alt=\"logo\" /></div>}>\r\n            <LazyPhotoComponet\r\n                data={this.state}\r\n                handleChange={this.handleChange}\r\n            />\r\n          </Suspense> */}\r\n        {/* {document.getElementById('photo_'+this.state.photoLevel).className += \"hide\"} */}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default lazyContainer;"]},"metadata":{},"sourceType":"module"}